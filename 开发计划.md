# 用户中心系统开发计划

## 项目概述

**项目名称**：用户中心管理系统
**技术栈**：Spring Boot + MyBatis-Plus + MySQL + JWT + Lombok
**开发环境**：JDK 1.8 + Maven + IntelliJ IDEA

## 当前项目状态

### ✅ 已完成
- [x] 项目初始化（Maven项目结构）
- [x] User实体类设计（完整用户信息字段）
- [x] 数据库表结构设计（user表）
- [x] 核心依赖配置（Spring Boot、MyBatis-Plus、MySQL等）

### 📋 项目结构
```
user_center/
├── src/main/java/
│   └── entity/
│       └── User.java              # ✅ 用户实体类
├── src/main/resources/
├── SQL语句/
│   └── create_table.sql           # ✅ 数据库建表脚本
├── pom.xml                        # ✅ Maven配置文件
└── 开发计划.md                    # 📄 本文档
```

---

## 开发路线图

### 🚀 阶段一：项目基础配置
> **目标**：搭建可运行的Spring Boot项目框架

| 任务 | 状态 | 预估时间 | 说明 |
|------|------|----------|------|
| 更新pom.xml依赖 | ✅ 已完成 | 10分钟 | 添加Spring Boot、MyBatis-Plus、MySQL、JWT等核心依赖 |
| 创建Spring Boot启动类 | ⏳ 待开始 | 5分钟 | 设置应用程序入口点 |
| 创建application.yml配置 | ⏳ 待开始 | 10分钟 | 配置数据库连接、服务器端口等 |
| 创建标准目录结构 | ⏳ 待开始 | 5分钟 | 建立controller、service、mapper、config等包结构 |

### 🗄️ 阶段二：数据访问层开发
> **目标**：实现用户数据的基础CRUD操作

| 任务 | 状态 | 预估时间 | 说明 |
|------|------|----------|------|
| 创建UserMapper接口 | ⏳ 待开始 | 10分钟 | 基于MyBatis-Plus的数据访问层 |
| 配置MyBatis-Plus | ⏳ 待开始 | 15分钟 | 实体类与数据库表映射、分页插件配置 |
| 数据库连接测试 | ⏳ 待开始 | 10分钟 | 确保能正常访问数据库并进行基本操作 |

### 🔧 阶段三：业务逻辑层开发
> **目标**：实现用户相关的核心业务功能

| 任务 | 状态 | 预估时间 | 说明 |
|------|------|----------|------|
| 创建UserService接口及实现类 | ⏳ 待开始 | 20分钟 | 用户业务逻辑层 |
| 用户注册功能 | ⏳ 待开始 | 30分钟 | 参数校验、密码加密、重复注册检查 |
| 用户登录功能 | ⏳ 待开始 | 30分钟 | 密码验证、JWT token生成 |
| 用户信息管理 | ⏳ 待开始 | 20分钟 | 查询、更新用户信息 |
| 密码加密工具类 | ⏳ 待开始 | 15分钟 | 使用BCrypt进行密码加密 |

### 🌐 阶段四：API接口层开发
> **目标**：提供RESTful API接口

| 任务 | 状态 | 预估时间 | 说明 |
|------|------|----------|------|
| 创建UserController | ⏳ 待开始 | 20分钟 | 用户相关API控制器 |
| 用户注册接口 | ⏳ 待开始 | 15分钟 | POST /api/user/register |
| 用户登录接口 | ⏳ 待开始 | 15分钟 | POST /api/user/login |
| 用户信息查询接口 | ⏳ 待开始 | 10分钟 | GET /api/user/{id} |
| 用户信息更新接口 | ⏳ 待开始 | 15分钟 | PUT /api/user/{id} |
| 参数校验配置 | ⏳ 待开始 | 10分钟 | 使用Validation注解进行请求参数校验 |

### 🔧 阶段五：系统完善与优化
> **目标**：提升系统健壮性和可维护性

| 任务 | 状态 | 预估时间 | 说明 |
|------|------|----------|------|
| 全局异常处理 | ⏳ 待开始 | 20分钟 | 统一异常处理机制 |
| 统一响应格式 | ⏳ 待开始 | 15分钟 | 自定义API响应格式 |
| 日志配置 | ⏳ 待开始 | 10分钟 | 配置日志输出格式和级别 |
| 跨域配置 | ⏳ 待开始 | 10分钟 | 解决前后端分离跨域问题 |
| 单元测试 | ⏳ 待开始 | 30分钟 | 对核心业务逻辑进行测试 |
| API文档生成 | ⏳ 待开始 | 20分钟 | 集成Swagger生成接口文档 |

---

## 技术细节说明

### 1. 依赖清单
```xml
主要依赖：
- Spring Boot Web Starter          # Web框架
- Spring Boot Validation          # 参数校验
- MyBatis-Plus Boot Starter       # 数据库ORM框架
- MySQL Connector                 # MySQL驱动
- Lombok                          # 简化代码
- JWT                             # 用户认证
- Spring Boot Test                # 测试框架
```

### 2. 数据库设计
```sql
用户表(user)包含字段：
- id: 主键
- username: 用户名
- userAccount: 账号
- userPassword: 密码
- avatarUrl: 头像
- gender: 性别
- phone: 电话
- email: 邮箱
- userStatus: 用户状态
- createTime: 创建时间
- updateTime: 更新时间
- isDelete: 软删除标识
- userRole: 用户角色
```

### 3. API接口设计
```
用户注册：POST /api/user/register
用户登录：POST /api/user/login


删除用户：DELETE /api/user/{id}
获取当前用户：GET /api/user/current
查询用户：GET /api/user/search
更新用户：PUT /api/user/update
是否为管理员：GET /api/user/isAdmin

```

### 4. 目录结构规划
```
src/main/java/com/example/usercenter/
├── UserCenterApplication.java     # 启动类
├── config/                        # 配置类
├── controller/                    # 控制器层
├── service/                       # 业务逻辑层
│   └── impl/                      # 业务逻辑实现
├── mapper/                        # 数据访问层
├── entity/                        # 实体类
├── dto/                          # 数据传输对象
├── common/                       # 公共类
│   ├── exception/                # 异常处理
│   └── utils/                    # 工具类
└── test/                         # 测试类
```

---

## 开发建议

### 1. 开发顺序
按照上述阶段顺序进行开发，每个阶段完成后进行测试，确保功能正常后再进行下一阶段。

### 2. 代码规范
- 使用Lombok简化代码
- 遵循RESTful API设计规范
- 统一异常处理和响应格式
- 添加必要的注释和日志

### 3. 测试策略
- 每完成一个功能模块立即进行测试
- 重点测试用户注册、登录等核心功能
- 使用Postman或类似工具测试API接口

### 4. 注意事项
- 密码存储必须加密（使用BCrypt）
- JWT密钥要安全存储
- 注意SQL注入防护
- 合理设置HTTP状态码

---

## 预期完成时间

- **总预估时间**：4-5小时
- **核心功能**：2-3小时
- **完善优化**：1-2小时

完成整个项目后，你将拥有一个功能完整、结构清晰的用户中心管理系统！